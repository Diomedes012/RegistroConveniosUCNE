@page "/notificaciones"
@using GestionConveniosUCNE.Models
@rendermode InteractiveServer

<div class="page-header">
    <h3>Notificaciones</h3>
</div>

<h4 class="subtitulo-recientes">Recientes</h4>

<div class="notification-list">
        {
            <div class="notification-card">
                <div class="notification-icon">
                    <i class="bi"></i>
                </div>

                <div class="notification-content">
                    <span class="notification-title"></span>
                    <span class="notification-description"></span>
                </div>

                <span class="notification-time">

                </span>
            </div>
        }
    }
    else
    {
        <div class="notification-card">
            <div class="notification-content">
                <span class="notification-title">No hay notificaciones</span>
                <span class="notification-description">Todo está al día.</span>
            </div>
        </div>
    }
</div>

@code {

    private string GetIconClass(string? tipo)
    {
        return tipo switch
        {
            "Alerta" => "bi-exclamation-triangle-fill",
            "Exito" => "bi-check-circle-fill",
            "Info" => "bi-info-circle-fill",
            _ => "bi-bell-fill"
        };
    }

    private string GetTipoClass(string? tipo)
    {
        return tipo switch
        {
            "Alerta" => "tipo-alerta",
            "Exito" => "tipo-exito",
            "Info" => "tipo-info",
            _ => "tipo-default"
        };
    }

    private string FormatearFecha(DateTime fecha)
    {
        var span = DateTime.Now - fecha;
        if (span.TotalMinutes < 60) return $"hace {span.Minutes} minutos";
        if (span.TotalHours < 24) return $"hace {span.Hours} horas";
        return fecha.ToString("dd/MM/yyyy");
    }
}